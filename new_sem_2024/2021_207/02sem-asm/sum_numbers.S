// ** Условие **
// Из кода c/c++ вызывается функция int plus(int, int)
// написать эту функцию на ассемблере

// теперь уже пишем не main, а название функции, которую будем вызывать
    .global plus

plus:
    push   %ebp
    mov    %esp, %ebp

    // [    oldebp   return   a   b    xxxxx]
    //      ^esp, ebp
    mov    8(%ebp), %eax    // значения, которые нам передали в функцию лежат под коодоом возврата
                            // чтобы получить к ним доступ нужно ПРИБАВЛЯТЬ к ebp/esp
                            // сдвигаемся на 8, потому что нужно пропустить return, oldebp

    mov    12(%ebp), %edx   // сдвигаемся на 12, потому что нужно пропустить return, oldebp, a
    add    %edx, %eax

    // mov %ebp, %esp       // мы не меняли esp, поэтому в целом можно и не делать этот мув
    pop    %ebp

    ret
